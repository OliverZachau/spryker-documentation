<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head />
    <body>Spryker has a dedicated component to help you build tables for the Zed UI. This tutorial will help you get started on working with tables. Creating a New Table Configure the Table Prepare the Data Render the Table Creating a New Table To get started defining the new table, create a new class in your(Undefined variable: General.bundle/module), under the/Communication/Table/folder that extends theAbstractTableclass. Example: &lt;?php
use Spryker\Zed\Gui\Communication\Table\AbstractTable; class OrdersTable extends AbstractTable The query used for fetching the data must be injected in the constructor. The table configuration class must implement the following operations : function configure(TableConfiguration $configuration): here you setup the captions for the tables header, the searchable and sortable fields and you specify the raw fields function prepareData(TableConfiguration $configuration): here you prepare the data retrieved by the query in the manner you want to be shown in the table Configure the Table &lt;?php
function configure(TableConfiguration $configuration) The configuration of the table must be done here: setup captions for the table headers (setHeader()) setup searchable fields (setSearchable()) setup sortable fields (setSortable()) setup raw fields - for fields containing HTML markup that should not be escaped (addRawColumn) Click to expand the code sample &lt;?php
protected function configure(TableConfiguration $config)
{ $config-&gt;setHeader([ SpySalesOrderTableMap::COL_ID_SALES_ORDER =&gt; 'Order Id', SpySalesOrderTableMap::COL_CREATED_AT =&gt; 'Timestamp', SpySalesOrderTableMap::COL_FK_CUSTOMER =&gt; 'Customer Id', SpySalesOrderTableMap::COL_FIRST_NAME =&gt; 'Billing Name', SpySalesOrderTableMap::COL_GRAND_TOTAL =&gt; 'Value' ]); $config-&gt;setSortable([ SpySalesOrderTableMap::COL_CREATED_AT, SpySalesOrderTableMap::COL_GRAND_TOTAL ]); $config-&gt;setSearchable([ SpySalesOrderTableMap::COL_FIRST_NAME, SpySalesOrderTableMap::COL_GRAND_TOTAL ]); $config-&gt;addRawColumn('URL'); $this-&gt;persistFilters($config); return $config;
} Configure the default field for sorting You can configure the field on which the table is sorted by default when it’s initially rendered or when no sorting is applied by the user from the UI. You just need to specify the index of the field when configuring the table: &lt;?php
$config-&gt;setDefaultSortColumnIndex(5); Additionally, you can configure the default sort direction (for the initial rendering of the table or for the case it’s not set yet), e.g.: &lt;?php
$config-&gt;setDefaultSortDirection( \Spryker\Zed\Gui\Communication\Table\TableConfiguration::SORT_DESC); Prepare the Data &lt;?php function prepareData(TableConfiguration $configuration) the query results should be mapped to the table columns in here; also data transformations, such as price formatting, should be done here. &lt;?php protected function prepareData(TableConfiguration $config)
{ $query = $this-&gt;salesQuery; $queryResults = $this-&gt;runQuery($query, $config); $results = []; foreach ($queryResults as $item) { $results[] = [ SpySalesOrderTableMap::COL_ID_SALES_ORDER =&gt; $item[SpySalesOrderTableMap::COL_ID_SALES_ORDER], SpySalesOrderTableMap::COL_CREATED_AT =&gt; $item[SpySalesOrderTableMap::COL_CREATED_AT], SpySalesOrderTableMap::COL_FK_CUSTOMER =&gt; $item[SpySalesOrderTableMap::COL_FK_CUSTOMER], SpySalesOrderTableMap::COL_FIRST_NAME =&gt; $item[SpySalesOrderTableMap::COL_FIRST_NAME], SpySalesOrderTableMap::COL_GRAND_TOTAL =&gt; $this-&gt;formatPrice($item[SpySalesOrderTableMap::COL_GRAND_TOTAL])), ]; } return $results;
} Render the Table In order to display the query results in the table, in the controller’s action you retrieve an instance of the table configuration class and call therender()operation. &lt;?php public function indexAction(Request $request)
{ $table = $this-&gt;getFactory()-&gt;createOrdersTable(); return [ 'orders' =&gt; $table-&gt;render(), ];
}</body>
</html>