<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head />
    <body>There are two main triggers: first oneStateMachineFacade::triggerForNewStateMachineItem()is used when first time triggering the state machine for an item; this trigger will initialize the state machine and start transition through states until a decision without event, timeout or manual event is detected. It will callgetInitialStateForProcess()anditemStateUpdated()methods from state machine handler plugin. To manually trigger an already initialized item, use theStateMachineFacade::triggerEvent()facade method. This trigger will trigger a given event and start the transition through states. Also, calling intoitemStateUpdatedfrom SM handler. When implementing a state machine, useStateMachineFacade::triggerForNewStateMachineItem()when you create an item for the first time (e.g.: after order persisted, product added to cart). MethodStateMachineFacade::triggerEvent()is mostly used in Zed to manually trigger events. There is a way to make an HTTP request to the state machine in order to trigger events. The state machine hasTriggerControllerto trigger requests. Make request to/state-machine/trigger/trigger-event-for-new-itemfor uninitialized item, with there$_GETparameters: Parameter Description identifier id of local entity event/state that it belongs to (most cases primary key of table you storing idItemState) state-machine-name string - name of the state machine that is being triggered (Invoice, PrePayment, etc..) process-name string - name of the process from the current state machine redirect string - url to redirect to after the processing is finished Make a request to/state-machine/trigger/trigger-eventfor initialized item, with these$_GETparameters: Parameter Description event event to trigger (ship, refund, cancel) id-process id of the process event that is intended identifier id of the local entity event/state that it belongs to, (most cases primary key of table you storing idItemState) id-state id of the assigned state, as it is stored in the current entity state-machine-name string - name of the state machine that is being triggered (Invoice, PrePayment, etc..) redirect string - url to redirect to after the processing is finished See also: State Machine Cron Jobs - State Machine Implementing the Plugin - State Machine Persistence - State Machine Updating Presentation in Zed - State Machine Modelling - State Machine Last review date:Oct. 2nd, 2017</body>
</html>