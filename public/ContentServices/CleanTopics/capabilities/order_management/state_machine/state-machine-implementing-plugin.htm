<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head />
    <body>To start using state machine, you need create a new plugin by implementing the StateMachineHandlerInterface. This plugin is used when there is need for additional information from client or some action happens and the client needs to be notified about it. List of interface methods that need to be implemented: getCommandPlugins()- returns an array containing the list of command plugins registered for the current state machine; each plugin implements the CommandPluginInterface ). The keys in the array are the identifiers for the commands defined in the XML that describes the SM. getConditionPlugins()- returns an array containing the list of condition plugins registered for the current state machine; each plugin implements the ConditionPluginInterface . The keys in the array are the identifiers for the conditions defined in the XML that describes the SM. getStateMachineName()- returns a string that is the state machine name (case sensitive). Used by many processes while SM is working internally, also it’s the directory subfolder of the XML files. getActiveProcesses()- returns an array containing the list of processes used, as they are stored in the XML file names from the SM subfolder. getInitialStateForProcess($processName)- returns a string that is the state name to use when the state machine process is initialized. itemStateUpdated(StateMachineItemTransfer)- returns a bool; this method is called when the state changes for a single state machine item. It’s up to the client to implement the logic that needs to get executed, but most of the times you need to save the new assignedidItemStatein the database. getStateMachineItemsByStateIds(array $stateIds)- returnsStateMachineItemTransfer[]; this method is called when condition check cron job is running. The client will get the list of stateIds, it’s integer array. You need to return the list ofStateMachineItemTransferobjects populated withidentifier,IdStateMachineProcess,IdItemState. A new created plugin needs to be added to thePyz\Zed\StateMachine\StateMachineDependencyProvider::getStateMachineHandlers()handler stack. The correct plugin will be selected based ongetStateMachineName()method. After the plugins are added, you can view the state machine graph in the State machine list . See also: State Machine Cron Jobs - State Machine Triggering Events - State Machine Persistence - State Machine Updating Presentation in Zed - State Machine Modelling - State Machine Last review date:Oct. 2nd, 2017</body>
</html>